{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1 class="title">Manage Members</h1>
    <p class="subtitle">Admin interface for managing club members</p>
    
    <div class="box">
        <h2 class="title is-4">Members ({{ members|length }})</h2>
        
        {% if members %}
        <div class="table-container">
            <table class="table is-fullwidth is-striped is-hoverable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Status</th>
                        <th>Admin</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for member in members %}
                    <tr>
                        <td>{{ member.firstname }} {{ member.lastname }}</td>
                        <td>{{ member.username }}</td>
                        <td>{{ member.email }}</td>
                        <td>
                            <span class="tag {% if member.status == 'Full' %}is-success{% elif member.status == 'Social' %}is-info{% else %}is-warning{% endif %}">
                                {{ member.status }}
                            </span>
                        </td>
                        <td>
                            {% if member.is_admin %}
                            <span class="tag is-danger">Admin</span>
                            {% else %}
                            <span class="tag is-light">User</span>
                            {% endif %}
                        </td>
                        <td>
                            <div class="buttons are-small">
                                <a href="{{ url_for('admin.edit_member', member_id=member.id) }}" class="button is-primary is-small">
                                    <span class="icon">
                                        <i class="fas fa-edit"></i>
                                    </span>
                                    <span>Edit</span>
                                </a>
                                <a href="{{ url_for('admin.edit_member', member_id=member.id) }}" class="button is-danger is-small">
                                    <span class="icon">
                                        <i class="fas fa-trash"></i>
                                    </span>
                                    <span>Delete</span>
                                </a>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="notification is-info">
            <p>No members found.</p>
        </div>
        {% endif %}
    </div>
    
    <div class="field is-grouped">
        <div class="control">
            <a href="{{ url_for('main.add_member') }}" class="button is-primary">
                <span class="icon">
                    <i class="fas fa-plus"></i>
                </span>
                <span>Add Member</span>
            </a>
        </div>
        <div class="control">
            <a href="{{ url_for('admin.import_users') }}" class="button is-info">
                <span class="icon">
                    <i class="fas fa-upload"></i>
                </span>
                <span>Import Users</span>
            </a>
        </div>
    </div>
</div>
{% endblock %}